- pipeline: "test deploy"
  events:
    - type: "PUSH"
      refs:
        - "refs/heads/*"  # Match all branches
  actions:
    - action: "run npm install"
      type: "BUILD"
      working_directory: "/buddy/app/app/service-a"
      docker_image_name: "library/node"
      docker_image_tag: "20"
      execute_commands:
        - "pwd"  # Print current working directory
        - "ls -l"  # List files in the directory    
        - "# yarn install"
        - "npm install"
      shell: "BASH"
    
    - action: "Docker build"
      type: "BUILD"
      docker_image_name: "nodejs-pintu"
      docker_image_tag: "latest"      
      working_directory: "/buddy/app/app/service-a"      
      dockerfile_path: "Dockerfile"
      shell: "BASH"

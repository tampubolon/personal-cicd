- pipeline: "NodeJS CICD Pipeline"
  events:
  - type: "PUSH"
    refs:
    - "refs/heads/*"
  actions:
  - action: "run npm install"
    type: "BUILD"
    working_directory: "/buddy/app/app/service-a"
    docker_image_name: "library/node"
    docker_image_tag: "20"
    execute_commands:
    - "pwd"
    - "ls -l"
    - "# yarn install"
    - "npm install"
    shell: "BASH"
  - action: "Build Docker image"
    type: "DOCKERFILE"
    dockerfile_path: "app/service-a/Dockerfile"
    context_path: "app/service-a"
    integration_hash: "EYgLPQZOpnelXGGreKBzyVXvAW"
  - action: "Push Docker image"
    type: "DOCKER_PUSH"
    docker_image_tag: "$BUDDY_EXECUTION_ID"
    repository: "mar3tin8/pintu-nodejs"
    integration_hash: "EYgLPQZOpnelXGGreKBzyVXvAW"